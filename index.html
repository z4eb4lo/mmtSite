<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Тёмный Эксперимент</title>
    <style>
        /* Новые анимации */
        @keyframes explosion {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(10); opacity: 0; }
        }

        @keyframes bloodDrip {
            0% { transform: translateY(-100vh); }
            100% { transform: translateY(100vh); }
        }

        @keyframes ringExpand {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(5); opacity: 0; }
        }

        .explosion-effect {
            position: fixed;
            background: radial-gradient(circle, #ff0000 0%, rgba(255,0,0,0) 70%);
            border-radius: 50%;
            animation: explosion 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            pointer-events: none;
        }

        .blood-drop {
            position: absolute;
            width: 2px;
            height: 50px;
            background: linear-gradient(to bottom, #8a0303 0%, #ff0000 100%);
            animation: bloodDrip 2s linear;
            opacity: 0.7;
        }

        .magic-ring {
            position: absolute;
            border: 3px solid #ff9900;
            border-radius: 50%;
            animation: ringExpand 1s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Тёмный Эксперимент</h1>
        <h2>7 марта 2025 года</h2>
        <h3>Михаил Тимофеевич Метлин</h3>
        <h3>Группа СМ5-21</h3>
        
        <button class="experiment-btn" onclick="showSauronEye()">Начать эксперимент</button>
    </div>

    <div class="sauron-eye" id="eye"></div>
    <img src="https://i.ibb.co/0jZ7Q3k/ghoul-mask.png" class="ghoul-mask" alt="Маска гуля">

    <script>
        function createSpell() {
            const spells = ['火', '闇', 'Ψ', '✡', '☠', '✸', '卍'];
            const spell = document.createElement('div');
            spell.className = 'spell';
            spell.style.left = Math.random() * window.innerWidth + 'px';
            spell.textContent = spells[Math.floor(Math.random() * spells.length)];
            document.body.appendChild(spell);
            
            setTimeout(() => spell.remove(), 3000);
        }

        function showSauronEye() {
            const eye = document.getElementById('eye');
            eye.style.display = 'block';
            setTimeout(() => eye.style.display = 'none', 3000);
            
            // Случайные заклинания
            setInterval(createSpell, 500);
            
            // Вибрация браузера
            if(navigator.vibrate) navigator.vibrate([200, 100, 200]);
        }

        // Случайное появление глаза
        setInterval(() => {
            if(Math.random() < 0.1) showSauronEye();
        }, 10000);
    </script>
</body>
    <script>
        function createParticles(x, y) {
            // Кровавые брызги
            for(let i = 0; i < 50; i++) {
                const drop = document.createElement('div');
                drop.className = 'blood-drop';
                drop.style.left = x + Math.random() * 40 - 20 + 'px';
                drop.style.top = y + 'px';
                document.body.appendChild(drop);
                setTimeout(() => drop.remove(), 2000);
            }

            // Магические кольца
            const ring = document.createElement('div');
            ring.className = 'magic-ring';
            ring.style.left = x + 'px';
            ring.style.top = y + 'px';
            document.body.appendChild(ring);
            setTimeout(() => ring.remove(), 1000);
        }

        function enhancedSauronEye() {
            const eye = document.getElementById('eye');
            eye.style.display = 'block';
            
            // 3D-трансформация
            eye.style.transform = 'translate(-50%, -50%) perspective(1000px) rotateX(70deg)';
            eye.style.animation = 'pulsate 0.5s infinite, eyeGlow 1s infinite';

            // Искажение пространства
            document.body.style.transform = 'skew(2deg, 1deg)';
            setTimeout(() => document.body.style.transform = '', 500);
        }

        function showSauronEye() {
            // Взрывной эффект
            const explosion = document.createElement('div');
            explosion.className = 'explosion-effect';
            explosion.style.left = window.innerWidth/2 + 'px';
            explosion.style.top = window.innerHeight/2 + 'px';
            document.body.appendChild(explosion);
            setTimeout(() => explosion.remove(), 1500);

            createParticles(window.innerWidth/2, window.innerHeight/2);
            enhancedSauronEye();

            // Анимация кнопки
            const btn = document.querySelector('.experiment-btn');
            btn.style.animation = 'btnExplode 0.5s forwards';
            setTimeout(() => btn.style.animation = '', 500);

            // Усиленные эффекты
            document.documentElement.style.setProperty('--main-color', '#ff0000');
            setTimeout(() => {
                document.documentElement.style.setProperty('--main-color', '#c70000');
            }, 1000);

            // Улучшенные заклинания
            const spellInterval = setInterval(() => {
                createSpell();
                if(Math.random() > 0.5) createSpell();
            }, 100);

            setTimeout(() => clearInterval(spellInterval), 3000);
        }

        // Новая CSS-переменная для управления цветом
        :root {
            --main-color: #c70000;
        }
    </script>
</body>
</html>
